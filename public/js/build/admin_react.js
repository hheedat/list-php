webpackJsonp([3],[function(e,t,n){"use strict";var r=n(20),a=n(25),o=n(1),i=r.createClass({displayName:"Analytics",loadTimer:null,getInitialState:function(){return{info:[]}},componentDidMount:function(){this.loadDataFromServer(),this.loadTimer=setInterval(this.loadDataFromServer,this.props.pollInterval)},loadDataFromServer:function(){return a.ajax({url:this.props.urlInfo,method:"post",dataType:"json"}).done(function(e){"succ"==e.type?this.setState({info:e.msg}):alert("服务端出现了一些错误"+e.msg)}.bind(this)).fail(function(e,t,n){alert("出现了一些问题"),console.error(t,n.toString())}.bind(this))},componentWillUnmount:function(){clearInterval(this.loadTimer)},render:function(){var e;return e=this.state.info.length?this.state.info.map(function(e){return r.createElement("tr",{key:e.id},r.createElement("td",null,o(e.datetime).format("YYYY-MM-DD")),r.createElement("td",null,e.pv),r.createElement("td",null,e.req))}):r.createElement("tr",null,r.createElement("td",{colSpan:"3"},"loading...")),r.createElement("table",{className:"visit-info"},r.createElement("tbody",null,r.createElement("tr",null,r.createElement("th",null,"Time"),r.createElement("th",null,"PV"),r.createElement("th",null,"REQ")),e))}}),s=r.createClass({displayName:"UserInfo",loadTimer:null,getInitialState:function(){return{count:"loading..."}},componentDidMount:function(){this.loadDataFromServer(),this.loadTimer=setInterval(this.loadDataFromServer,this.props.pollInterval)},loadDataFromServer:function(){return a.ajax({url:this.props.urlUserInfo,method:"post",dataType:"json"}).done(function(e){"succ"==e.type?this.setState({count:e.msg}):alert("服务端出现了一些错误"+e.msg)}.bind(this)).fail(function(e,t,n){alert("出现了一些问题"),console.error(t,n.toString())}.bind(this))},componentWillUnmount:function(){clearInterval(this.loadTimer)},render:function(){return r.createElement("table",{className:"user-info"},r.createElement("tbody",null,r.createElement("tr",null,r.createElement("th",null,"User Num")),r.createElement("tr",null,r.createElement("td",null,this.state.count))))}}),u=r.createClass({displayName:"ListInfo",loadTimer:null,getInitialState:function(){return{count:"loading..."}},componentDidMount:function(){this.loadDataFromServer(),this.loadTimer=setInterval(this.loadDataFromServer,this.props.pollInterval)},loadDataFromServer:function(){return a.ajax({url:this.props.urlListInfo,method:"post",dataType:"json"}).done(function(e){"succ"==e.type?this.setState({count:e.msg}):alert("服务端出现了一些错误"+e.msg)}.bind(this)).fail(function(e,t,n){alert("出现了一些问题"),console.error(t,n.toString())}.bind(this))},componentWillUnmount:function(){clearInterval(this.loadTimer)},render:function(){return r.createElement("table",{className:"list-info"},r.createElement("tbody",null,r.createElement("tr",null,r.createElement("th",null,"List Num")),r.createElement("tr",null,r.createElement("td",null,this.state.count))))}}),l=r.createClass({displayName:"AdminLauncher",render:function(){return r.createElement("div",{className:"cf"},r.createElement(s,{urlUserInfo:"/admin/index/getUsersInfo",pollInterval:6e4}),r.createElement(u,{urlListInfo:"/admin/index/getListInfo",pollInterval:6e4}),r.createElement(i,{urlInfo:"/admin/index/getInfo",pollInterval:6e4}))}});r.render(r.createElement(l,null),document.getElementById("wrapper"))}]);